# App Store 審査手順・プロモーション文・AdMob 要件

## 1. 本実装の準備（ビルド前）

### 1.1 バナー広告ユニットIDの設定（必須）

AdMob の **App ID**（ca-app-pub-4182152923139643~5262894252）は app.json に設定済みです。

**バナー広告ユニット** は別途作成が必要です。

1. [AdMob コンソール](https://admob.google.com/) → 該当アプリ（Sticrix）を選択
2. **広告ユニット** → **広告ユニットを追加** → **バナー** を選択
3. 名前（例: ホーム画面バナー）を入力して作成
4. 表示された **広告ユニットID**（形式: `ca-app-pub-4182152923139643/1234567890`）をコピー
5. **App.js** を開き、次の行を修正：
   ```js
   const BANNER_AD_UNIT_ID = __DEV__ ? TestIds.BANNER : 'ca-app-pub-4182152923139643/REPLACE_WITH_BANNER_UNIT_ID';
   ```
   → `REPLACE_WITH_BANNER_UNIT_ID` の部分を、コピーした広告ユニットIDの **スラッシュ以降** に差し替えるか、**全体** を `'ca-app-pub-4182152923139643/取得したID'` に置き換えてください。

差し替え後にビルドしてください。未設定のまま本番ビルドすると広告が表示されません。

---

## 2. プロモーション用テキスト・概要（App Store 用）

### プロモーション用テキスト（170文字以内・更新するとすぐ反映）

```
超シンプルな付箋マトリクス「スティクリクス」。重要×緊急の4象限やカンバンでタスクを整理。ドラッグで直感的に管理できます。
```

### アプリの説明（概要・4000文字以内）

```
超シンプルな付箋マトリクス「スティクリクス」

スティクリクスは、付箋のようにタスクを並べて管理できるマトリクスアプリです。重要度と緊急度で4分割するマトリクス、またはTodo/Doing/Doneのカンバンで、やることをひと目で整理できます。

■ 主な機能
・4象限マトリクス（重要×緊急）で優先順位を可視化
・カンバンボード（Todo / Doing / Done）で進捗管理
・XY軸モードで自由に付箋を配置
・付箋の色分け・ドラッグで直感的に編集
・データは端末内に保存（オフラインでも利用可能）
・日本語・英語に対応

■ こんな方に
・タスクを「見える化」して整理したい方
・シンプルなツールで済ませたい方
・マトリクスやカンバンで優先順位をつけたい方

スティクリクスで、やることをシンプルに整理しませんか。
```

### キーワード（100文字以内・カンマ区切り・スペースなし）

```
タスク管理,付箋,マトリクス,カンバン,ToDo,優先順位,スティクリクス,重要緊急
```

### サブタイトル（30文字以内）

```
超シンプルな付箋マトリクス
```

---

## 3. 審査が通るための手順チェックリスト

### App Store Connect で入力する項目

- [ ] **名前**: Sticrix（または表示名）
- [ ] **サブタイトル**: 超シンプルな付箋マトリクス
- [ ] **プロモーション用テキスト**: 上記をコピー
- [ ] **説明**: 上記の「アプリの説明」をコピー（必要に応じて編集）
- [ ] **キーワード**: 上記をコピー
- [ ] **カテゴリ**: 仕事効率化（Productivity）など
- [ ] **年齢制限**: 4+（広告ありの場合は「広告あり」を選択）
- [ ] **プライバシーポリシーURL**: 必須。自サイトまたは GitHub などに掲載したURLを設定
- [ ] **スクリーンショット**: 6.7", 6.5", 5.5" など必要なサイズを用意
- [ ] **アプリのプライバシー（App Privacy）**: 下記「4. AdMob と Apple 審査」を参照して設定

### 審査提出前の確認

- [ ] アプリがクラッシュせず動作する
- [ ] 広告がテストIDではなく本番IDで表示される（App.js の BANNER_AD_UNIT_ID を設定済み）
- [ ] プライバシーポリシーに「広告表示のためデータが収集される場合がある」旨を記載
- [ ] App Store Connect の「App のプライバシー」で広告に必要なデータを申告

---

## 4. AdMob を使用するにあたり Apple 審査を通すための要件

### 4.1 必須対応

1. **プライバシーポリシー**
   - アプリ内または Web で公開し、App Store Connect の「プライバシーポリシーURL」に記載
   - 以下の内容を含めることを推奨：
     - 広告配信のため、第三者（Google AdMob）がデータを収集・利用する場合がある
     - 収集するデータの種類（識別子、利用状況など）と利用目的
     - ユーザーが設定でオプトアウトできる旨（AdMob の設定リンクなど）

2. **App のプライバシー（App Store Connect）**
   - **App のプライバシー** で「データの収集」を申告
   - 「広告またはマーケティング」目的で収集するデータにチェック
   - 例：**デバイスID**（広告用）、**利用データ** など、AdMob が実際に使う項目に合わせて選択
   - [Apple のガイド](https://developer.apple.com/app-store/app-privacy-details/) と [AdMob のプライバシー説明](https://support.google.com/admob/answer/6128543) を参照

3. **広告の表示方法**
   - 現在の実装：画面下部にバナー、**requestNonPersonalizedAdsOnly: true** で非個人向け広告をリクエスト
   - 審査で問題になりにくいポイント：
     - 広告がコンテンツを隠さない
     - 誤タップを誘導するような配置にしない
     - 子供向けアプリでない限り、ATT（App Tracking Transparency）は非個人向けのみなら必須ではないが、収集する場合はプライバシーで明示

### 4.2 推奨

- **アプリの説明** に「本アプリには広告が含まれます」と一文入れておく（上記「アプリの説明」に含めても可）
- 審査用に、広告が表示される画面のスクリーンショットを1枚以上用意する

### 4.3 やってはいけないこと

- 広告を「コンテンツ」のように偽装しない
- クリックを促すような誘導テキストを広告付近に置かない
- 個人向け広告を使う場合は、ATT の許可ダイアログを実装し、プライバシー説明と一致させる

---

## 5. ビルド・提出コマンド

```bash
cd C:\sticrix-expo
npx eas build --platform ios --profile production
# ビルド完了後
npx eas submit -p ios
```

提出後、App Store Connect で「審査に提出」する前に、上記チェックリストと AdMob 要件をすべて満たしているか確認してください。
